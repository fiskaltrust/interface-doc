---
slug: /poscreators/middleware-doc/france/reference-tables
title: Reference tables
---

# Reference tables

### Service Status: ftState

The ftState is returned with every receipt response. Through this status, fiskaltrust.Middleware can signal its operability or request processing logic.

The country-specific code is made of the country's code value following the ISO-3166-1-ALPHA-2 standard, converted from ASCII into hex. For France (FR), the country code is `0x4652`, which results in `0x4652000000000000` as the value for the "ready" status.

The table below describes supported statuses for the ftState field. Those codes can be combined by using the logic operator `OR`<span id="t-service-status-ftstate-22">.</span>

| **Value**            | **Description**                                                                                     | **Middleware Version** |
|----------------------|-----------------------------------------------------------------------------------------------------|------------------------|
| `0x4652000000000040` | Message Pending<br />Use Zero-Receipt to show Message on Receipt                                    | 1.0                    |



## Type of Receipt: ftReceiptCase

The `ftReceiptCase` defines the type of receipt and hence how fiskaltrust.SecurityMechanisms should process receipts according to French law.

The country-specific code is made of the country's code value following the ISO-3166-1-ALPHA-2 standard, converted from ASCII into hex. For France (FR), the country code is `0x4652`. Thus, the value for an unknown `ftReceiptCase` in France is `0x4652000000000000`.

| **Value**            | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | **Middleware-Version** |
|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
| `0x4652000000000000` | **Unknown receipt for FR**<br />Processed like a ticket                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 1.2                    |
| `0x4652000000000001` | **Ticket**<br />Legal document; has to be signed.<br />Sign: Yes<br />Chain and national numbering: T<br />Details: GT counters are raised                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 1.2                    |
| `0x4652000000000002` | **Payment Prove**<br />Payment without knowing what was paid.<br />Legal document; has to be signed.<br />Sign: Yes<br />Chain and national numbering: P<br />No ChargeItems on payment-prove, the total amount is always zero, a negative payitem of type `0x4652000000000011` is used to get the sum of PayItems to zero.<br />Details: GT counters are not raised                                                                                                                                                                                                                                                                                                                                                                                                      |                        |
| `0x4652000000000003` | **Invoice**<br />Legal document; has to be signed.<br />Sign: Yes<br />Chain and national numbering: I<br />A reference to the ticket can be created by using `cbPreviousReceiptNumber` in the request.<br />Detail: GT counters are raised                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                        |
| `0x4652000000000004` | **Shift Receipt / Grand Total Ticket / Grand Total Invoice: Shift**<br />Sign: Yes<br />Chain and national numbering: G<br />Details: Resets the shift-counter, keeps all other counters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 1.2                    |
| `0x4652000000000005` | **Daily Receipt / Grand Total Ticket / Grand Total Invoice: Daily**<br />Sign: Yes<br />Chain and national numbering: G<br />Details:<br />-   Adds a daily-counter to the monthly-counter and then resets the daily-counter<br />-   keeps the shift-counter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 1.2                    |
| `0x4652000000000006` | **Monthly Receipt / Grand Total Ticket / Grand Total Invoice: Month**<br />Sign: Yes<br />Chain and national numbering: G<br />Details:<br />-   Adds a daily-counter to the monthly-counter and then resets the daily-counter<br />-   Adds a monthly-counter to the yearly-counter and then resets the monthly-counter<br />-   keeps the shift-counter                                                                                                                                                                                                                                                                                                                                                                                                                 | 1.2                    |
| `0x4652000000000007` | **Yearly Receipt / Grand Total Ticket / Grand Total Invoice: Year**<br />Sign: Yes<br />Chain and national numbering: G<br />Details:<br />-   Adds a daily-counter to the monthly-counter and then resets the daily-counter<br />-   Adds a monthly-counter to the yearly-counter and then resets the monthly-counter<br />-   Resets the yearly-counter<br />-   keeps the shift-counter                                                                                                                                                                                                                                                                                                                                                                                | 1.2                    |
| `0x4652000000000008` | **Bill**<br />List of ChargeItems to be paid. Used to inform customers about their open ChargeItems. PayItemType `0x4652000000000011` is used<br />Sign: Yes<br />Chain and national numbering: B<br />Details: GT counters are not raised. When the bill is used, the phrase "document provisoire" is returned with the fiskaltrust signature and must be printed on the bill. If bill and payment prove are created, this does not replace a ticket creation. A ticket or an invoice has to be issued to raise turnover and raise the GT counters as well                    |                        |
| `0x4652000000000009` | **Delivery Note**<br />Sign: no<br />Chain and national numbering: no                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                        |
| `0x465200000000000A` | **Cash pay-in / Cash Deposit**<br />Same handling as payment prove<br />Chain and national numbering: P                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                        |
| `0x465200000000000B` | **Cash pay-out**<br />Same handling as payment prove<br />Chain and national numbering: P                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                        |
| `0x465200000000000C` | **Payment transfer**<br />Switch between payment method, e.g. from cash to credit card<br />Sign: Yes<br />Chain and national numbering: P                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |                        |
| `0x465200000000000D` | **Internal / Material**<br />Sign: No<br />Chain and national numbering: no                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                        |
| `0x465200000000000E` | **Foreign sales**<br />Same handling as bill<br />Sign: Yes<br />Chain und national numbering: B                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                        |
| `0x465200000000000F` | **Zero-Receipt**<br />Sign: Yes<br />Chain and national numbering: G<br />Details: A receipt with empty charge items block `ftChargeItem` and empty payment block `ftPayItem` which amounts to a total of "0".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                        |
| `0x4652000000000010` | **Start-Receipt**<br />Sign: Yes<br />Chain and national numbering: G                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                        |
| `0x4652000000000011` | **Stop-Receipt**<br />Sign: Yes<br />Chain and national numbering: G                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                        |
| `0x4652000000000012` | **Protocol / Technical Event Log**<br />Has to be signed<br />Sign: Yes<br />Chain and national numbering: L<br />Details: Can be used by the POS-System to log custom data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 1.2                    |
| `0x4652000000000013` | **Protocol / Accounting / Audit**<br />Has to be signed<br />Sign: Yes<br />Chain and national numbering: L<br />Details: Can be used by the POS-System to log custom data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 1.2                    |
| `0x4652000000000014` | **Protocol / Custom**<br />Does not need to be signed<br />Sign: No<br />Chain and national numbering: No<br />Details: Can be used by the POS-System to log custom data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 1.2                    |
| `0x4652000000000015` | **Archive**<br />Has to be Signed<br />Sign: Yes<br />Chain and national numbering: A<br />Details: Will trigger a daily closing automatically.<br />Creates an archive starting with the first receipt of the queue (or first receipt after the last archive) until the last receipt before this request. It must not contain more than 365 days.<br />To retrieve the export as a zip-file (containing the certificate, ReceiptJournals and QueueItems), a normal `/journal`request has to be sent to the `ftJournalType`: `0x4652000000010010`. The value of `ftQueueRow` in the response of this ReceiptCase has to be sent in the `from`-parameter.<br />The content of the retrieved zip-file can be verified with the _ExportTool_ for France [fiskaltrust.TaxAuditorTool.zip](https://github.com/fiskaltrust/interface-doc/files/10928504/fiskaltrust.TaxAuditorTool.zip)
.fr) | 1.2                    |
| `0x4652000000000016` | **Copy**<br />Has to be Signed<br />Sign: Yes<br />Chain and national numbering: C<br />Details: in a request the `cbPreviousReceiptReference` is mandatory. It contains the receipt number which was handed out as a copy, issued by the original cash register. When a copy of a receipt is requested, the phrase "duplicata" is returned with the fiskaltrust signature and must be printed on the receipt. Every time the receipt is reprinted, an up-counting number denoting how many times the receipt has been printed, is returned. It must be printed on the receipt and is then recorded in the journal.The
layout and the information contained shall be the same as in the original document.                                                                                                                                                                        | 1.2                    |
<span id="_Toc527986685" class="anchor"></span>*Table 33. Type of Receipt: ftReceiptCase (FR – BOI-TVA-DECL 30-10-30)*

### ftReceiptCaseFlag

According to French law and regulations, various business transactions can result in specific combinations of types of receipts. For this, bytes 6, 5, 4 and 3 are used as combinable codes. These codes can be added with the logic operator "OR".

| **Value**            | **Description**                                                                                                                                                                                                                                                                | **Version** |
|----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|
| `0x0000000000010000` | **Failed receipt**<br />Common behaviour, see [general part](https://docs.fiskaltrust.cloud/docs/poscreators/middleware-doc/general/reference-tables#ftreceiptcaseflag).                                                                                                       | 1.2         |
| `0x0000000000020000` | **Training receipt**<br />All requests issued with this flag are chained and signed in a separate chain. The phrase "mode école" is printed on any artefact that is printed while the flag is being used. For national numbering "X" is used.<br />GT counters are not raised. | 1.2         |
| `0x0000000000040000` | **Reverse/voided receipt**<br />Common behaviour, see [general part](https://docs.fiskaltrust.cloud/docs/poscreators/middleware-doc/general/reference-tables#ftreceiptcaseflag).                                                                                               |             |
| `0x0000800000000000` | **Receipt request**<br />Common behaviour, see [general part](https://docs.fiskaltrust.cloud/docs/poscreators/middleware-doc/general/reference-tables#ftreceiptcaseflag).                                                                                                      |             |

<span id="_Toc527986686" class="anchor"></span>

*Table 34. Type of Receipt: ftReceiptCase Flags (FR – BOI-TVA-DECL 30-10-30)*

## Type of Service: ftChargeItemCase

The `ftChargeItemCase` defines the type of service in charge item blocks and how fiskaltrust.SecurityMechanism processes individual receipts following French law.

For France (FR), the country code is 0x4652. Thus, the value for an unknown `ftChargeItemCase` in France is `0x4652000000000000`.

| **Value**            | **Description**                                                                                                                                                                                                                                                                                                    | **Middleware Version** |
|----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
| `0x4652000000000000` | **Unknown type of service for FR**<br />With the help of the VAT-rates table saved within fiskaltrust.SecurityMechanisms, an allocation to standard /reduced-1 /reduced-2 / super-reduced/zero is attempted.                                                                                                       | 1.2                    |
| `0x4652000000000001` | **Undefined type of service for FR reduced-1**<br />(as of 1.1.2017, this is calculated with 5,5%).                                                                                                                                                                                                                | 1.2                    |
| `0x4652000000000002` | **Undefined type of service for FR reduced-2**<br />(as of 1.1.2016, this is calculated with 10%,<br />Loi n° 2015-1786 du 29 décembre 2015, art. 79).                                                                                                                                                             | 1.2                    |
| `0x4652000000000003` | **Undefined type of service for FR normal**<br />(as of 1.1.2014, this is 20%,<br />Loi n° 2012-1510 du 29 décembre 2012, art. 68-III-B).                                                                                                                                                                          | 1.2                    |
| `0x4652000000000004` | **Undefined type of service for FR special (super-reduced)**<br />Includes all rates that are not contained in the previous ones (as of 1.1.2017, this can be, for example, 2,1%).                                                                                                                                  | 1.2                    |
| `0x4652000000000005` | **Undefined type of service for FR zero**<br />Includes data indicated with 0% sales tax and data where the sales tax is unknown, for example, about an outgoing invoice. Also, in cases where the sales tax should not be apparent, for example, in differential taxation, the data can be issued with this code. | 1.2                    |
| `0x4652000000000006` | **Reverse charge**<br />Reversal of tax liability.                                                                                                                                                                                                                                                                 | 1.2                    |
| `0x4652000000000007` | **Not own sales**<br />In the data, a VAT-rate can be indicated.                                                                                                                                                                                                                                                   | 1.2                    |
| `0x4652000000000008` | **Delivery reduced-1**<br />For processing, see (`0x4652000000000001`)                                                                                                                                                                                                                                             | 1.2                    |
| `0x4652000000000009` | **Delivery reduced-2**<br />For processing, see (`0x4652000000000002`)                                                                                                                                                                                                                                             | 1.2                    |
| `0x465200000000000A` | **Delivery normal**<br />For processing, see (`0x4652000000000003`)                                                                                                                                                                                                                                                | 1.2                    |
| `0x465200000000000B` | **Delivery special**<br />For processing, see (`0x4652000000000004`)                                                                                                                                                                                                                                               | 1.2                    |
| `0x465200000000000C` | **Delivery zero**<br />For processing, see (`0x4652000000000005`)                                                                                                                                                                                                                                                  | 1.2                    |
| `0x465200000000000D` | **Other services reduced-1**<br />For processing, see (`0x4652000000000001`)                                                                                                                                                                                                                                       | 1.2                    |
| `0x465200000000000E` | **Other services reduced-2**<br />For processing, see (`0x4652000000000002`)                                                                                                                                                                                                                                       | 1.2                    |
| `0x465200000000000F` | **Other services normal**<br />For processing, see (`0x4652000000000003`)                                                                                                                                                                                                                                          | 1.2                    |
| `0x4652000000000010` | **Other services special**<br />For processing, see (`0x4652000000000004`)                                                                                                                                                                                                                                         | 1.2                    |
| `0x4652000000000011` | **Other services zero**<br />For processing, see (`0x4652000000000005`)                                                                                                                                                                                                                                            | 1.2                    |
| `0x4652000000000012` | **Catalogue services reduced-1**<br />For processing, see (`0x4652000000000001`)                                                                                                                                                                                                                                   | 1.2                    |
| `0x4652000000000013` | **Catalogue services reduced-2**<br />For processing, see (`0x4652000000000002`)                                                                                                                                                                                                                                   | 1.2                    |
| `0x4652000000000014` | **Catalogue services normal**<br />For processing, see (`0x4652000000000003`)                                                                                                                                                                                                                                      | 1.2                    |
| `0x4652000000000015` | **Catalogue services special**<br />For processing, see (`0x4652000000000004`)                                                                                                                                                                                                                                     | 1.2                    |
| `0x4652000000000016` | **Catalogue services zero**<br />For processing, see (`0x4652000000000005`)                                                                                                                                                                                                                                        | 1.2                    |
| `0x4652000000000017` | **Own consumption reduced-1**<br />For processing, see (`0x4652000000000001`)                                                                                                                                                                                                                                      | 1.2                    |
| `0x4652000000000018` | **Own consumption reduced-2**<br />For processing, see (`0x4652000000000002`)                                                                                                                                                                                                                                      | 1.2                    |
| `0x4652000000000019` | **Own consumption normal**<br />For processing, see (`0x4652000000000003`)                                                                                                                                                                                                                                         | 1.2                    |
| `0x465200000000001A` | **Own consumption special**<br />For processing, see (`0x4652000000000004`)                                                                                                                                                                                                                                        | 1.2                    |
| `0x465200000000001B` | **Own consumption zero**<br />For processing, see (`0x4652000000000005`)                                                                                                                                                                                                                                           | 1.2                    |
| `0x465200000000001C` | **Prepayment reduced-1**<br />For processing, see (`0x4652000000000001`)                                                                                                                                                                                                                                           | 1.2                    |
| `0x465200000000001D` | **Prepayment reduced-2**<br />For processing, see (`0x4652000000000002`)                                                                                                                                                                                                                                           | 1.2                    |
| `0x465200000000001E` | **Prepayment normal**<br />For processing, see (`0x4652000000000003`)                                                                                                                                                                                                                                              | 1.2                    |
| `0x465200000000001F` | **Prepayment special**<br />For processing, see (`0x4652000000000004`)                                                                                                                                                                                                                                             | 1.2                    |
| `0x4652000000000020` | **Prepayment zero**<br />For processing, see (`0x4652000000000005`)                                                                                                                                                                                                                                                | 1.2                    |
| `0x4652000000000021` | **Account of a third party/ third party name/ collection**<br />For processing, see (`0x4652000000000007`)                                                                                                                                                                                                         | 1.2                    |
| `0x4652000000000022` | **Obligation**                                                                                                                                                                                                                                                                                                     | 1.2                    |

<span id="_Toc527986687" class="anchor"></span>

*Table 35. Type of Service: ftChargeItemCase (FR – BOI-TVA-DECL 30-10-30)*

In the following there are further guidelines for using ftChargeItemCase.

## Type of Payment: ftPayItemCase

The `ftPayItemCase` defines the type of payment within the pay items block and how the fiskaltrust.SecurityMechanism processes individual payment of the receipt.

| **Value**            | **Description**                                                                                                                    | **Middleware Version** |
|----------------------|------------------------------------------------------------------------------------------------------------------------------------|------------------------|
| `0x4652000000000000` | **Default value**<br />Unknown payment type: Automatic processing through the fiskaltrust.SecurityMechanism settings is attempted. | 1.2                    |
| `0x4652000000000000` | **Unknown payment type for FR**<br />This is handled like a cash payment in national currency.                                     | 1.2                    |
| `0x4652000000000001` | **Cash payment in national currency**<br />cash                                                                                    | 1.2                    |
| `0x4652000000000002` | **Cash payment in foreign currency**<br />cash                                                                                     | 1.2                    |
| `0x4652000000000003` | **Crossed cheque**<br />cash                                                                                                       | 1.2                    |
| `0x4652000000000004` | **Debit card payment**<br />noncash                                                                                                | 1.2                    |
| `0x4652000000000005` | **Credit card payment**<br />cash                                                                                                  | 1.2                    |
| `0x4652000000000006` | **Voucher payment (coupon) - voucher by money value**<br />cash                                                                    | 1.2                    |
| `0x4652000000000007` | **Online payment**<br />noncash                                                                                                    | 1.2                    |
| `0x4652000000000008` | **Customer card payment**<br />noncash                                                                                             | 1.2                    |
| `0x4652000000000009` | **Other debit card**<br />noncash                                                                                                  | 1.2                    |
| `0x465200000000000A` | **Other credit card**<br />cash                                                                                                    | 1.2                    |
| `0x465200000000000B` | **Account receivable**<br />Delivery note/ settlement in foreign currency<br />internal                                            | 1.2                    |
| `0x465200000000000C` | **SEPA transfer**<br />noncash                                                                                                     | 1.2                    |
| `0x465200000000000D` | **Other transfer**<br />noncash                                                                                                    | 1.2                    |
| `0x465200000000000E` | **Cash book expense**<br />internal                                                                                                | 1.2                    |
| `0x465200000000000F` | **Cash book contribution**<br />internal                                                                                           | 1.2                    |
| `0x4652000000000010` | **Levy**<br />internal                                                                                                             | 1.2                    |
| `0x4652000000000011` | **Internal/ material consumption**<br />Can be used for bill<br />internal                                                         | 1.2                    |
| `0x4652000000000012` | **Change**<br />tip<br />cash                                                                                                      | 1.2                    |

<span id="_Toc527986688" class="anchor"></span>

*Table 36. Type of Payment: ftPayItemCase (FR - BOI-TVA-DECL 30-10-30)*

## Type of Signature: ftSignatureType

The `ftSignatureType` indicates the type and origin of the signature.

| **Value**            | **Description**     | **Version** |
|----------------------|---------------------|-------------|
| `0x4652000000000000` | unknown FR          |             |
| `0x4652000000000001` | JWT                 | 1.2         |
| `0x4652000000000002` | Shift Closing Sum   | 1.2         |
| `0x4652000000000003` | Day Closing Sum     | 1.2         |
| `0x4652000000000004` | Month Closing Sum   | 1.2         |
| `0x4652000000000005` | Year Closing Sum    | 1.2         |
| `0x4652000000000006` | Archive Totals Sum  | 1.2         |
| `0x4652000000000007` | Perpetual Total Sum | 1.2         |

<span id="_Toc527986689" class="anchor"></span>

*Table 37. Type of Signature: ftSignatureType (FR - BOI-TVA-DECL 30-10-30)*

## Type of Journal: ftJournalType

The `ftJournalType` is used in connection with the journal function and defines the journal stream given back according to the French law. In the `ftJournalType`, the ISO-3166-1-ALPHA-2 from ASCII value is converted into hex and used as byte 8 and 7. For France (FR) this is 0x4652.

| **Value**            | **Description**                     | **Version** |
|----------------------|-------------------------------------|-------------|
| `0x4652000000000000` | Status information for queue FR     | 1.2         |
| `0x4652000000000001` | Ticket ("T" group) export           | 1.2         |
| `0x4652000000000002` | Payment Prove ("P" group) export    | 1.2         |
| `0x4652000000000003` | Invoice ("I" group) export          | 1.2         |
| `0x4652000000000004` | Grand Total ("G" group) export      | 1.2         |
| `0x4652000000000007` | Bill ("B" group) export             | 1.2         |
| `0x4652000000000008` | Archive ("A" group) export          | 1.2         |
| `0x4652000000000009` | Log ("L" group) export              | 1.2         |
| `0x465200000000000A` | Copy ("C" group) export             | 1.2         |
| `0x465200000000000B` | Training ("X" group) export         | 1.2         |
| `0x4652000000000010` | Export (in conjunction with Archiv) | 1.2         |

*Table 38. Type of Journal: ftJournalType (FR - BOI-TVA-DECL 30-10-30)*

### ftJournalTypeFlag

Journals can be extracted in combination with these flags, indicated using codes in byte 5. These codes can be combined using the logic operator `OR`.

| **Value**            | **Description**                                                           | **Version** |
|----------------------|---------------------------------------------------------------------------|-------------|
| `0x0000000000010000` | Receive Archive as zip-file created with ReceiptCase `0x4652000000000015` | 1.2         |
